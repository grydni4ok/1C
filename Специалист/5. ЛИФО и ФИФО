Определяемся откуда будет браться информация об методе списания. Если же просто из регистра, тогда создаем регистр "УчетнаяПолитика", определяем нужную нам переодичность, создаем ресерс "МетодРасчетаСебестоимости", в принципе все.
Если же запись в регистре формируется документом, тогда выставляем свойтсво Режим записи в значение "Подчинение регистратору". Создаем новый документ "НазначениеУчетнойПолитики", создаем реквизит "МетодСписанияСебестоимости" и формируем движение документа по регистру УчетнаяПолитика. Запрещаем оперативное проведение. В документе при проведении поменяем дату документа, вместо текущей даты, выставим дату начала периода в котором будет действовать выбранный метод списания.
Так же нам понадобится у регистра ОстаткиНоменклатуры добавитьновое измерени партия, подправить движение документа Приходная накладная присвоив новое значение Движение.Партия = Ссылка;
В расходной наклодной, мы в начале берем значение метода расчета себестоимости, если его нет, то сразу завершаем программу. 
Потом выполняем запрос, примерно такой же как мы делали до этого, но теперь мы добавляем партию, формируем итоги по номенклатуре, и сортируем запрос по значению момента времени у партии, если метод ФИФО и по убыв в ином случае.
Затем выполняем контроль остатков и списание товаров по партиям.
